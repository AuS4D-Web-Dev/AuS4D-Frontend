version: 1
frontend:
    phases:
        preBuild:
            commands:
                - npm install -g corepack
                - corepack enable
                - corepack prepare pnpm@10.13.1 --activate
                - pnpm install
        build:
            commands:
                - pnpm run build
    artifacts:
        baseDirectory: dist
        files:
            - "**/*"
    cache:
        paths:
            - node_modules/**/*
            - ~/.pnpm-store/**/*
    customHeaders:
        - pattern: "**/*"
          headers:
              - key: Cache-Control
                value: "no-cache, no-store, must-revalidate"
              - key: Pragma
                value: "no-cache"
              - key: Expires
                value: "0"
